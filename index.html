<!-- index.html -->
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="refresh" content="0; URL=Scan.html">
    <title>Redirigiendo...</title>
  </head>
  <body>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
  import { getStorage } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDjUR8nQRSZ1XGf3sg5tzgTzNqHY73b47I",
    authDomain: "inventario-qr-ff67f.firebaseapp.com",
    projectId: "inventario-qr-ff67f",
    storageBucket: "inventario-qr-ff67f.firebasestorage.app",
    messagingSenderId: "73005879751",
    appId: "1:73005879751:web:d173cc9551cb1c27b7c9e2",
    measurementId: "G-81X76R4DBX"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const storage = getStorage(app);
  const analytics = getAnalytics(app);

  // Hacer accesibles globalmente
  window.db = db;
  window.storage = storage;

  // Registrar el service worker (PWA)
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./service-worker.js')
      .then(() => console.log('✅ Service Worker registrado correctamente'))
      .catch(err => console.error('❌ Error al registrar el Service Worker:', err));
  }
</script>

  </body>
</html>
