<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Inventario QR Pro</title>
  <link rel="manifest" href="../json/manifest.json">
  <meta name="theme-color" content="#00dfc4">

  <!-- Iconos -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="../css/Scan.css" />

  <!-- Librer√≠as externas -->
  <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
  <!-- üîπ SIDEBAR -->
  <aside class="sidebar">
    <div class="logo">
      <i class="fa-solid fa-boxes-stacked"></i>
      <span>Inventario QR</span>
    </div>
    <nav class="menu">
      <a class="menu-item active"><i class="fa-solid fa-qrcode"></i><span>Escanear / Generar</span></a>
    </nav>
  </aside>

  <!-- üîπ CONTENIDO PRINCIPAL -->
  <main class="main">
    <header class="topbar">
      <h1>Escanear y Generar QR</h1>
      <button class="help"><i class="fa-regular fa-circle-question"></i> Ayuda</button>
    </header>

    <section class="columns">
      <!-- Panel Izquierdo -->
      <div class="panel">
        <h3><i class="fa-solid fa-barcode"></i> Escaneo / Historial</h3>

        <input id="buscar" type="text" placeholder="üîç Buscar caja..." class="input">
        <input id="escanear" type="text" placeholder="üì∑ Tocar para escanear o subir imagen" class="input">

        <h4>üìã √öltimos Escaneos</h4>
        <div id="listaEscaneos" class="scans"></div>
      </div>

      <!-- Panel Derecho -->
      <div class="panel">
        <h3><i class="fa-solid fa-plus"></i> Generar Nueva Caja</h3>

        <label class="lbl">Nombre de Caja</label>
        <input id="nombreCaja" class="input" type="text" placeholder="Ej. Caja Principal A-12">

        <label class="lbl">Contenido</label>
        <div id="contenidos"></div>
        <button id="agregarContenido" class="btn-add"><i class="fa-solid fa-plus"></i> Agregar producto</button>

        <label class="lbl">Ubicaci√≥n</label>
        <input id="ubicacion" class="input" type="text" placeholder="Ej. Pasillo 3, Estante B">

        <div class="qr-preview" id="qrPreview"></div>
        <button id="generarQR" class="btn-generate"><i class="fa-solid fa-qrcode"></i> Generar QR</button>
        <button id="downloadQR" class="btn-download"><i class="fa-solid fa-download"></i> Descargar QR</button>
      </div>
    </section>
</main>
  <!-- Scripts funcionales -->
  <script src="../script/Script.js"></script>
  <script src="../script/Scanner.js"></script>

  <!-- PWA -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('../script/service-worker.js')
        .then(() => console.log('‚úÖ Service Worker activo'))
        .catch(err => console.log('‚ùå Error SW:', err));
    }
  </script>
</body>
</html>
